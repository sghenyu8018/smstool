# 待办事项

本文档记录项目的待办事项和功能计划。

## 功能开发

### 1. 多时间范围成功率查询 ✅
**状态**: 已完成  
**优先级**: 高  
**描述**: 每次查询成功率时，默认查询多个时间范围的成功率
- 当天
- 一周
- 本周
- 30天

**实现内容**:
- ✅ 创建 `query_sms_success_rate_multi` 函数
- ✅ 支持查询多个时间范围
- ✅ 按用户要求的格式输出（时间范围、签名、成功率、短信类型、提交量）
- ✅ 在主函数中自动调用

**实现方案**:
- 修改 `query_sms_success_rate` 函数，支持传入多个时间范围
- 或者创建一个新的函数 `query_sms_success_rate_multi`，自动查询多个时间范围
- 返回结果应该包含每个时间范围的成功率数据
- 在 `sms_signature_query.py` 的主函数中调用多时间范围查询

**相关文件**:
- `utils/sms_success_rate_query.py`
- `sms_signature_query.py`

**注意事项**:
- 需要考虑查询性能，多个时间范围查询可能需要较长时间
- 需要优化等待逻辑，避免重复等待
- 返回结果应该清晰地标识每个时间范围的数据

### 2. 查询资质工单 ✅
**状态**: 已完成  
**优先级**: 中  
**描述**: 实现查询资质工单的功能

**实现内容**:
- ✅ 创建 `query_qualification_work_order` 函数
- ✅ 支持通过工单号和PID查询资质工单
- ✅ 实现完整查询流程：输入工单号查询、获取关联资质ID、输入PID查询、找到短信资质行、获取资质组ID并比较
- ✅ 返回匹配的工单号、关联资质ID和资质组ID
- ✅ 添加资质工单查询相关的URL和选择器配置

**实现方案**:
- 参考 `query_sms_signature` 函数的实现方式
- 需要确定资质工单查询的URL和页面结构
- 需要确定资质工单查询的选择器（SELECTORS）
- 提取工单号的方式可能与短信签名工单类似
- 可以考虑复用现有的辅助函数（如 `extract_work_order_id`）

**相关文件**:
- `utils/sms_signature_query.py` (参考实现)
- `utils/qualification_query.py` (待创建)
- `utils/constants.py` (需要添加资质查询相关常量)
- `sms_signature_query.py` (需要集成)

**注意事项**:
- 需要先了解资质工单查询页面的URL和页面结构
- 需要确定查询资质工单所需的参数（PID、资质名称等）
- 需要测试页面元素的选择器，确保能准确定位工单信息
- 返回结果格式应该与短信签名工单查询保持一致，便于统一处理